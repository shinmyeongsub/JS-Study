<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">

      // 유효범위 (scope) - 변수의 수명
      // global scope
      var vscope = 'global';
      function fscope(){
          alert(vscope);
      }
      fscope();

      // local scope
      var vscope = 'global';
      function fscope(){
          var vscope = 'local';
          alert('함수안 '+vscope);
      }
      fscope();
      alert('함수밖 '+vscope);


      // 전역변수를 사용하는 타당성이 없으면 엥간하면 지역변수 사용을 권한다.

      // 불가피하게 전역변수를 사용해야 하는 경우 객체를 전역변수로 만들고 속성으로 변수를 관리
      MYAPP = {}
      MYAPP.calculator = {
          'left' : null,
          'right' : null
      }
      MYAPP.coordinate = {
          'left' : null,
          'right' : null
      }

      MYAPP.calculator.left = 10;
      MYAPP.calculator.right = 20;
      function sum(){
          return MYAPP.calculator.left + MYAPP.calculator.right;
      }
      document.write(sum());

      // 전역변수를 사용하고 싶지 않다면 익명함수를 호출

      (function(){
          var MYAPP = {}
          MYAPP.calculator = {
              'left' : null,
              'right' : null
          }
          MYAPP.coordinate = {
              'left' : null,
              'right' : null
          }
          MYAPP.calculator.left = 10;
          MYAPP.calculator.right = 20;
          function sum(){
              return MYAPP.calculator.left + MYAPP.calculator.right;
          }
          document.write(sum());
      }())

      // 정적 유효범위 (lexical 유효범위)
      // 사용될 때가 아닌 정의될 때 전역변수를 사용하고 됨
      var i = 5;

      function a(){
        var i = 10;
        b();
      }

      function b(){
        document.write(i);
      }

      a();

    </script>
  </body>
</html>
