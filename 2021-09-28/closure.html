<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
      // 클로저는 내부함수가 외부함수의 맥락에 접근할 수 있는 것을 가르킨다. 클로저는 자바스크립트를 이용한 고난이도의 테크닉을 구사하는데 필수적인 개념
      // 내부함수
      function outter(){
        function inner(){
          var title = 'coding everybody';
          alert(title);
        }
        inner();
      }


      // private variable
      function factory_movie(title){
          return {
              get_title : function (){
                  return title;
              },
              set_title : function(_title){
                  title = _title
              }
          }
      }
      ghost = factory_movie('Ghost in the shell');
      matrix = factory_movie('Matrix');

      alert(ghost.get_title());
      alert(matrix.get_title());

      ghost.set_title('공각기동대');

      alert(ghost.get_title());
      alert(matrix.get_title());

      var arr = []
      for(var i = 0; i < 5; i++){
          arr[i] = function(id) {
              return function(){
                  return id;
              }
          }(i);
      }
      for(var index in arr) {
          console.log(arr[index]());
      }

      /* 결과
      0
      1
      2
      3
      4
      */

    </script>
  </body>
</html>
